<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü—Ä–æ—Å–º–æ—Ç—Ä –∑–∞—è–≤–æ–∫ - –†–≠–ú-–ò–Ω—Å–∞–π—Ç</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
            color: #fff;
            margin: 0;
            padding: 20px;
            min-height: 100vh;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        h1 {
            color: #4a90e2;
            text-align: center;
            margin-bottom: 30px;
        }
        .stats {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }
        .stat-item {
            background: rgba(26, 26, 26, 0.8);
            padding: 20px;
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            text-align: center;
            min-width: 150px;
        }
        .stat-number {
            font-size: 2rem;
            color: #4a90e2;
            font-weight: bold;
        }
        .stat-label {
            color: #b0b0b0;
            margin-top: 5px;
        }
        .submissions-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        .submission-card {
            background: rgba(26, 26, 26, 0.8);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 20px;
            transition: all 0.3s ease;
        }
        .submission-card:hover {
            transform: translateY(-3px);
            border-color: rgba(74, 144, 226, 0.3);
            box-shadow: 0 10px 20px rgba(74, 144, 226, 0.1);
        }
        .submission-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            padding-bottom: 10px;
        }
        .submission-id {
            color: #4a90e2;
            font-weight: bold;
        }
        .submission-time {
            color: #b0b0b0;
            font-size: 0.9rem;
        }
        .field {
            margin-bottom: 10px;
        }
        .field-label {
            color: #4a90e2;
            font-weight: 500;
            display: inline-block;
            width: 100px;
        }
        .field-value {
            color: #fff;
        }
        .no-submissions {
            text-align: center;
            color: #b0b0b0;
            padding: 40px;
            background: rgba(26, 26, 26, 0.8);
            border-radius: 16px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        .actions {
            text-align: center;
            margin-top: 30px;
        }
        .btn {
            background: linear-gradient(135deg, #4a90e2 0%, #357abd 100%);
            color: white;
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            margin: 0 10px;
            text-decoration: none;
            display: inline-block;
        }
        .btn:hover {
            background: linear-gradient(135deg, #357abd 0%, #2968a3 100%);
        }
        .btn-danger {
            background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
        }
        .btn-danger:hover {
            background: linear-gradient(135deg, #c0392b 0%, #a93226 100%);
        }
        .export-section {
            background: rgba(26, 26, 26, 0.8);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 30px;
            text-align: center;
        }
        .contact-info {
            background: rgba(74, 144, 226, 0.2);
            border: 1px solid #4a90e2;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 30px;
            text-align: center;
        }
        .contact-info h3 {
            color: #4a90e2;
            margin-top: 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üìß –ó–∞—è–≤–∫–∏ —Å —Å–∞–π—Ç–∞ –†–≠–ú-–ò–Ω—Å–∞–π—Ç</h1>
        
        <div class="contact-info">
            <h3>üìû –ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h3>
            <p><strong>Email –¥–ª—è –∑–∞—è–≤–æ–∫:</strong> Ange1Nikita@yandex.ru</p>
            <p><strong>–¢–µ–ª–µ—Ñ–æ–Ω:</strong> +7 989 123 39 53</p>
            <p><strong>WhatsApp:</strong> <a href="https://wa.me/79891233953" target="_blank" style="color: #4a90e2;">wa.me/79891233953</a></p>
            <p><strong>Telegram:</strong> <a href="https://t.me/rem_insait" target="_blank" style="color: #4a90e2;">@rem_insait</a></p>
        </div>
        
        <div class="stats" id="stats">
            <div class="stat-item">
                <div class="stat-number" id="totalSubmissions">0</div>
                <div class="stat-label">–í—Å–µ–≥–æ –∑–∞—è–≤–æ–∫</div>
            </div>
            <div class="stat-item">
                <div class="stat-number" id="todaySubmissions">0</div>
                <div class="stat-label">–°–µ–≥–æ–¥–Ω—è</div>
            </div>
            <div class="stat-item">
                <div class="stat-number" id="weekSubmissions">0</div>
                <div class="stat-label">–ó–∞ –Ω–µ–¥–µ–ª—é</div>
            </div>
        </div>
        
        <div class="export-section">
            <h3>üì§ –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö</h3>
            <p>–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤—Å–µ –∑–∞—è–≤–∫–∏ –≤ —Ñ–∞–π–ª –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –Ω–∞ –ø–æ—á—Ç—É</p>
            <button class="btn" onclick="exportToJSON()">–°–∫–∞—á–∞—Ç—å JSON</button>
            <button class="btn" onclick="exportToText()">–°–∫–∞—á–∞—Ç—å TXT</button>
            <button class="btn" onclick="copyToClipboard()">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤ –±—É—Ñ–µ—Ä</button>
        </div>
        
        <div id="submissionsContainer">
            <div class="no-submissions">
                <h3>üì≠ –ó–∞—è–≤–æ–∫ –ø–æ–∫–∞ –Ω–µ—Ç</h3>
                <p>–ó–∞—è–≤–∫–∏ –±—É–¥—É—Ç –ø–æ—è–≤–ª—è—Ç—å—Å—è –∑–¥–µ—Å—å –ø–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º—ã –Ω–∞ —Å–∞–π—Ç–µ</p>
                <a href="contacts.html" class="btn">–ü–µ—Ä–µ–π—Ç–∏ –∫ —Ñ–æ—Ä–º–µ</a>
            </div>
        </div>
        
        <div class="actions">
            <a href="contacts.html" class="btn">‚Üê –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ —Ñ–æ—Ä–º–µ</a>
            <button class="btn" onclick="refreshData()">üîÑ –û–±–Ω–æ–≤–∏—Ç—å</button>
            <button class="btn btn-danger" onclick="clearAllData()">üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ</button>
        </div>
    </div>
    
    <script>
        function loadSubmissions() {
            const submissions = JSON.parse(localStorage.getItem('form_submissions') || '[]');
            const container = document.getElementById('submissionsContainer');
            
            if (submissions.length === 0) {
                container.innerHTML = `
                    <div class="no-submissions">
                        <h3>üì≠ –ó–∞—è–≤–æ–∫ –ø–æ–∫–∞ –Ω–µ—Ç</h3>
                        <p>–ó–∞—è–≤–∫–∏ –±—É–¥—É—Ç –ø–æ—è–≤–ª—è—Ç—å—Å—è –∑–¥–µ—Å—å –ø–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º—ã –Ω–∞ —Å–∞–π—Ç–µ</p>
                        <a href="contacts.html" class="btn">–ü–µ—Ä–µ–π—Ç–∏ –∫ —Ñ–æ—Ä–º–µ</a>
                    </div>
                `;
                return;
            }
            
            // –°–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ –¥–∞—Ç–µ (–Ω–æ–≤—ã–µ —Å–≤–µ—Ä—Ö—É)
            submissions.sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp));
            
            const grid = document.createElement('div');
            grid.className = 'submissions-grid';
            
            submissions.forEach(submission => {
                const card = document.createElement('div');
                card.className = 'submission-card';
                
                const date = new Date(submission.timestamp);
                const formattedDate = date.toLocaleString('ru-RU');
                
                card.innerHTML = `
                    <div class="submission-header">
                        <span class="submission-id">#${submission.id}</span>
                        <span class="submission-time">${formattedDate}</span>
                    </div>
                    <div class="field">
                        <span class="field-label">üë§ –ò–º—è:</span>
                        <span class="field-value">${submission.name}</span>
                    </div>
                    <div class="field">
                        <span class="field-label">üìû –¢–µ–ª–µ—Ñ–æ–Ω:</span>
                        <span class="field-value">${submission.phone}</span>
                    </div>
                    <div class="field">
                        <span class="field-label">üìß Email:</span>
                        <span class="field-value">${submission.email || '–ù–µ —É–∫–∞–∑–∞–Ω'}</span>
                    </div>
                    <div class="field">
                        <span class="field-label">üõ†Ô∏è –£—Å–ª—É–≥–∞:</span>
                        <span class="field-value">${submission.serviceName || '–ù–µ –≤—ã–±—Ä–∞–Ω–∞'}</span>
                    </div>
                    ${submission.message ? `
                    <div class="field">
                        <span class="field-label">üí¨ –°–æ–æ–±—â–µ–Ω–∏–µ:</span>
                        <span class="field-value">${submission.message}</span>
                    </div>
                    ` : ''}
                `;
                
                grid.appendChild(card);
            });
            
            container.innerHTML = '';
            container.appendChild(grid);
            
            updateStats(submissions);
        }
        
        function updateStats(submissions) {
            const total = submissions.length;
            const today = new Date();
            const todayStart = new Date(today.getFullYear(), today.getMonth(), today.getDate());
            const weekStart = new Date(today.getTime() - 7 * 24 * 60 * 60 * 1000);
            
            const todayCount = submissions.filter(s => new Date(s.timestamp) >= todayStart).length;
            const weekCount = submissions.filter(s => new Date(s.timestamp) >= weekStart).length;
            
            document.getElementById('totalSubmissions').textContent = total;
            document.getElementById('todaySubmissions').textContent = todayCount;
            document.getElementById('weekSubmissions').textContent = weekCount;
        }
        
        function refreshData() {
            loadSubmissions();
        }
        
        function clearAllData() {
            if (confirm('‚ö†Ô∏è –£–¥–∞–ª–∏—Ç—å –í–°–ï –∑–∞—è–≤–∫–∏? –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å!')) {
                localStorage.removeItem('form_submissions');
                loadSubmissions();
                alert('‚úÖ –í—Å–µ –∑–∞—è–≤–∫–∏ —É–¥–∞–ª–µ–Ω—ã');
            }
        }
        
        function exportToJSON() {
            const submissions = JSON.parse(localStorage.getItem('form_submissions') || '[]');
            const dataStr = JSON.stringify(submissions, null, 2);
            const dataBlob = new Blob([dataStr], {type: 'application/json'});
            const url = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = url;
            link.download = `rem_insait_submissions_${new Date().toISOString().split('T')[0]}.json`;
            link.click();
            URL.revokeObjectURL(url);
        }
        
        function exportToText() {
            const submissions = JSON.parse(localStorage.getItem('form_submissions') || '[]');
            let text = `–ó–∞—è–≤–∫–∏ —Å —Å–∞–π—Ç–∞ –†–≠–ú-–ò–Ω—Å–∞–π—Ç\n–î–∞—Ç–∞ —ç–∫—Å–ø–æ—Ä—Ç–∞: ${new Date().toLocaleString('ru-RU')}\n–í—Å–µ–≥–æ –∑–∞—è–≤–æ–∫: ${submissions.length}\n\n`;
            text += '='.repeat(50) + '\n\n';
            
            submissions.forEach((submission, index) => {
                text += `–ó–∞—è–≤–∫–∞ #${submission.id} (${index + 1} –∏–∑ ${submissions.length})\n`;
                text += `–î–∞—Ç–∞: ${new Date(submission.timestamp).toLocaleString('ru-RU')}\n`;
                text += `–ò–º—è: ${submission.name}\n`;
                text += `–¢–µ–ª–µ—Ñ–æ–Ω: ${submission.phone}\n`;
                text += `Email: ${submission.email || '–ù–µ —É–∫–∞–∑–∞–Ω'}\n`;
                text += `–£—Å–ª—É–≥–∞: ${submission.serviceName || '–ù–µ –≤—ã–±—Ä–∞–Ω–∞'}\n`;
                if (submission.message) {
                    text += `–°–æ–æ–±—â–µ–Ω–∏–µ: ${submission.message}\n`;
                }
                text += '\n' + '-'.repeat(30) + '\n\n';
            });
            
            const dataBlob = new Blob([text], {type: 'text/plain; charset=utf-8'});
            const url = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = url;
            link.download = `rem_insait_submissions_${new Date().toISOString().split('T')[0]}.txt`;
            link.click();
            URL.revokeObjectURL(url);
        }
        
        function copyToClipboard() {
            const submissions = JSON.parse(localStorage.getItem('form_submissions') || '[]');
            let text = `üìß –ó–∞—è–≤–∫–∏ —Å —Å–∞–π—Ç–∞ –†–≠–ú-–ò–Ω—Å–∞–π—Ç\nüìÖ ${new Date().toLocaleString('ru-RU')}\nüìä –í—Å–µ–≥–æ: ${submissions.length}\n\n`;
            
            submissions.forEach((submission, index) => {
                text += `${index + 1}. –ó–∞—è–≤–∫–∞ #${submission.id}\n`;
                text += `üìÖ ${new Date(submission.timestamp).toLocaleString('ru-RU')}\n`;
                text += `üë§ ${submission.name}\n`;
                text += `üìû ${submission.phone}\n`;
                text += `üìß ${submission.email || '–ù–µ —É–∫–∞–∑–∞–Ω'}\n`;
                text += `üõ†Ô∏è ${submission.serviceName || '–ù–µ –≤—ã–±—Ä–∞–Ω–∞'}\n`;
                if (submission.message) {
                    text += `üí¨ ${submission.message}\n`;
                }
                text += '\n';
            });
            
            navigator.clipboard.writeText(text).then(() => {
                alert('‚úÖ –î–∞–Ω–Ω—ã–µ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞!');
            }).catch(() => {
                alert('‚ùå –û—à–∏–±–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–∫–∞—á–∞—Ç—å —Ñ–∞–π–ª.');
            });
        }
        
        // –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        loadSubmissions();
        
        // –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥
        setInterval(loadSubmissions, 30000);
    </script>
</body>
</html>
